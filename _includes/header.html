<!-- Capture and store a URL -->
{% capture location %}{{ page.url | split:'/' }}{% endcapture %} 

<header class="main-header" role="banner">
  <div class="header-container">
    <a class="site-logo" href="/" title="home">
      W
    </a>
    <nav class="navbar" role="navigation">
      <ul class="nav">
        <li {% if location == "" %} class="nav__item--current" {% else %} class="nav__item" {% endif %}>
           <a href="/">Home</a>
        </li>
      {% for page in site.pages %}
        
        <!-- Compare the page title to the URL -->
        {% assign current = page.title | downcase %}

        {% if page.title %}
        <li {% if location == current %} class="nav__item--current" {% else %} class="nav__item" {% endif %}>
          <a href="{{ page.url | prepend: site.baseurl }}">{{ page.title }}</a>
        </li>
        {% endif %}
        
      {% endfor %}
      </ul>
    </nav>
  </div>
</header>
